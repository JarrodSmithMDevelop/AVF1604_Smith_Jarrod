// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Ti.UI.setBackgroundColor('#000');

/*
var url = "http://api.wunderground.com/api/4f7172086eb9b9c8/conditions/q/KY/Beaver_Dam.json";
if (Ti.Network.online) {
     var getData = Ti.Network.createHTTPClient();
     getData.onload = function(e){
          console.log(e);  //this is the raw data-string returned from the URL request
          var json = JSON.parse(this.responseText);  //convert the string to JS object notation
          var weatherObj = {
              day : json.simpleforecast.forecastday[5].date.weekday,
              temp : json.current_observation.temp_f
          };
          var ui = require("ui");
          ui.buildUi(weatherObj);
     }; //getData.onload closing
     getData.open("GET", url);
     getData.send();
} else {
     alert("Network currently unavailable.");
     // load locally stored data perhaps?
}; // if else Ti.Network closing
*/

// create base UI tab and root window
//
var mainWindow = Ti.UI.createWindow({  
    title:'All Things Weather',
    backgroundColor:'#777'
});


//City state zip

var city = "Beaver Dam";
var state = "Ky";
var zipCode = "42320";
var phoneHeight = Ti.Platform.displayCaps.platformHeight;
var phoneWidth = Ti.Platform.displayCaps.platformWidth;

//city = prompt("Please enter your city?");
//state = prompt("Please enter your state?");
//zipCode = prompt("Please enter your Zip code?");

var locationBackground = Ti.UI.createView({
	backgroundColor: "#1C20AB",
	height: 130,
	width: phoneWidth,
	top: 20
});

var locationLabel = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "Location",
	left: 15,
	top: 40,
	font:{fontSize:20,fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

var location = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: city + ", " + state + "\n" + zipCode,
	left: 15,
	top: 80,
	font:{fontSize:20,fontFamily:'Helvetica Neue'},
	textAlign:'left',
	width:'auto'
});


var currentTempLabel = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "Current Tempature",
	right: 15,
	top: 40,
	font:{fontSize:20,fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

var tempReading = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "50",
	right: 15,
	top: 70,
	font:{fontSize:60,fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

var precipBackground = Ti.UI.createView({
	backgroundColor: "#1C20AB",
	height: 150,
	width: phoneWidth,
	bottom: 0
}); 

var windSpeedLabel =Ti.UI.createLabel({
	
});

var windSpeed = Ti.UI.createLabel({
	
});

var currentWeatherLabel = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "Current Weather",
	left: 15,
	top: 175,
	font:{fontSize:22,
	fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

var currentWeather = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "Clear",
	left: 15,
	top: 210,
	font:{fontSize:20,
	fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});


var precipPercentage = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "50",
	right: 15,
	bottom: 50,
	font:{fontSize:32,
	fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

var precipLabel = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "Chance of \n precipitation",
	right: 15,
	bottom: 90,
	font:{fontSize:20,
	fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

var humidityPercentage = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "30",
	left: 15,
	bottom: 50,
	font:{fontSize:32,
	fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

var humidityLabel = Ti.UI.createLabel({
	color:'#FFFCCC',
	text: "Humidity",
	left: 15,
	bottom: 90,
	font:{fontSize:20,
	fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});
mainWindow.add( locationBackground, precipBackground, windSpeedLabel, windSpeed, currentWeather, currentWeatherLabel, humidityPercentage, humidityLabel, precipPercentage, precipLabel, locationLabel ,location , currentTempLabel, tempReading);

mainWindow.open();
